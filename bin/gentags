#!/bin/bash

# traverse up the directory tree starting from the working directory
# until a .tags file is found. If found re-generate it.
# NOTE: you must generate the .tags file manually the first time.
f=.tags
path=$(pwd)
while [[ 1 ]]; do
    if [[ "$path" != "" && -e "$path/$f" ]]; then
        #echo "$path/$f"
        ctags -R --file-scope=no -f $path/$f $path/*
        exit 0
    elif [[ "$path" == "" ]]; then
        exit 1
    else
        path=${path%/*}
    fi
done
